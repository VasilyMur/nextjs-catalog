{"version":3,"file":"bundles\\pages\\add.js","sources":["webpack:///webpack/bootstrap 7cdb67194727701d677a","webpack:///components/AddForm.js","webpack:///components/styles/FormStyles.js","webpack:///pages/add.js","webpack:///external \"next/head\"","webpack:///external \"react\"","webpack:///external \"styled-components\""],"sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tvar threw = true;\n \t\ttry {\n \t\t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n \t\t\tthrew = false;\n \t\t} finally {\n \t\t\tif(threw) delete installedModules[moduleId];\n \t\t}\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 3);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 7cdb67194727701d677a","import styled from 'styled-components';\r\nimport Head from 'next/head';\r\n\r\n\r\n\r\nimport FormStyles from './styles/FormStyles';\r\n\r\n\r\nclass AddForm extends React.Component {\r\n    \r\n    state = {\r\n        city: '',\r\n        name: '',\r\n        description: '',\r\n        phone: '',\r\n        url: '',\r\n        schedule: {},\r\n        address: '',\r\n        lng: '',\r\n        lat: '',\r\n        errors: {}\r\n    }\r\n\r\n    validateHourStart = () => {\r\n        let hourStart = this.state.hourStart\r\n\r\n        let errors = {}\r\n        let formIsValid = true;\r\n        \r\n        const regex = new RegExp(/^\\d{2}\\:\\d{2}$/i);\r\n\r\n        if (!regex.test(hourStart)) {\r\n            formIsValid = false;\r\n            errors['hourStart'] = '* Введите часы в указанном формате!'\r\n        } else {\r\n            formIsValid = true;\r\n        }\r\n\r\n        this.setState({errors: errors});\r\n        return formIsValid;\r\n\r\n    }\r\n\r\n    validateHourEnd = () => {\r\n        let hourEnd = this.state.hourEnd\r\n        let errors = {}\r\n        let formIsValid = true;\r\n        \r\n        const regex = new RegExp(/^\\d{2}\\:\\d{2}$/i);\r\n\r\n        if (!regex.test(hourEnd)) {\r\n            formIsValid = false;\r\n            errors['hourEnd'] = '* Введите часы в указанном формате!'\r\n        } else {\r\n            formIsValid = true;\r\n        }\r\n\r\n        this.setState({errors: errors});\r\n        return formIsValid;\r\n\r\n    }\r\n\r\n    validatePhone = () => {\r\n        let phone = this.state.phone\r\n        let errors = {}\r\n        let formIsValid = true;\r\n\r\n        const regex = new RegExp(/\\d{1}-\\d{3}-\\d{3}-\\d{4}/i);\r\n        if (!regex.test(phone)) {\r\n            formIsValid = false;\r\n            errors['phone'] = '* Введите телефон в указанном формате!'\r\n        } else {\r\n            formIsValid = true;\r\n        }\r\n    \r\n        this.setState({errors: errors});\r\n        return formIsValid;\r\n    }\r\n\r\n    handleSubmit = (e) => {\r\n        e.preventDefault();\r\n        const item = {\r\n            city: this.state.city,\r\n            name: this.state.name,\r\n            description: this.state.description,\r\n            phone: this.state.phone,\r\n            url: this.state.url,\r\n            days: this.state.days,\r\n            address: this.state.address,\r\n            lat: this.state.lat,\r\n            lng: this.state.lng\r\n        }\r\n\r\n        console.log(item)\r\n\r\n        if (!this.validateHourStart() || !this.validateHourEnd() || !this.validatePhone()) {\r\n            console.log('submit error')\r\n\r\n        } else {\r\n            console.log('all correct!!')\r\n            // axios.post('/api/items/create', item).then(res => {\r\n            //     console.log(res)\r\n            // }).catch((err) => {\r\n            //     console.log(err)\r\n            // })\r\n            this.setState({ city: '', name: '', description: '', phone: '', url: '', days: [], address: '', lat: '', lng: '' });\r\n        }\r\n\r\n    }\r\n\r\n    handleChange = (e) => {   \r\n        const name = e.target.name;\r\n        const value = e.target.type === 'checkbox' ? e.target.checked : e.target.value;\r\n\r\n        if (e.target.type !== 'checkbox') {\r\n            this.setState({ [name]: value })\r\n        } else {\r\n            console.log(name)\r\n            if (value !== true) {\r\n                const index = this.state.days.indexOf(name); \r\n                this.setState({ days: [...this.state.days.slice(0, index), ...this.state.days.slice(index + 1)]})\r\n            } else {\r\n                this.setState({days : [...this.state.days, name]})\r\n            }\r\n        }    \r\n    }\r\n\r\n    handleAddressChange = (e) => {\r\n        const address = e.target.value\r\n        const dropdown = new google.maps.places.Autocomplete(document.getElementById('autocomplete'))\r\n        dropdown.addListener('place_changed', () => {\r\n            const place = dropdown.getPlace();\r\n            const address = place.formatted_address\r\n            const lat = place.geometry.location.lat()\r\n            const lng = place.geometry.location.lng()\r\n            \r\n            this.setState({ address, lat, lng })\r\n        });\r\n        this.setState({ address })\r\n    }\r\n\r\n    handleScheduleChange = (e) => {\r\n        const time = e.target.value;\r\n        console.log(time)\r\n    }\r\n\r\n\r\n\r\n    render(){\r\n\r\n\r\n        const weekDays = ['monday', 'tuesday', 'wednesday', 'thursday', 'friday', 'saturday', 'sunday']\r\n        return (\r\n            <React.Fragment>\r\n            <FormStyles onSubmit={this.handleSubmit}>\r\n                <fieldset>\r\n\r\n                        <label> Город\r\n                             <select  value={this.state.city}  type='text' placeholder='Город' name='city' onChange={this.handleChange} required>\r\n                                <option value=\"\"></option>\r\n                                <option value=\"moscow\">Москва</option>\r\n                                <option value=\"saint-petersburg\">Санкт-Петербург</option>\r\n                             </select>\r\n                        </label>\r\n\r\n                        <label> Телефон\r\n                            <input  value={this.state.phone}  type='text' placeholder='7-985-555-2233' name='phone' onChange={this.handleChange} required />\r\n                            {this.state.errors.phone ? <span className=\"form__error\">{this.state.errors.phone}</span> : ''}\r\n                        </label>\r\n\r\n\r\n                        <label> Name\r\n                             {/* <input  value={this.state[res]}  name={res} onChange={this.handleChange}required/> */}\r\n                             <input  value={this.state.name}  type=\"text\" placeholder='Name' name='name' onChange={this.handleChange} />\r\n                        </label>\r\n\r\n                        <label> Description\r\n                             {/* <input  value={this.state[res]}  name={res} onChange={this.handleChange}required/> */}\r\n                             <textarea  value={this.state.description}  type=\"text\" placeholder='Description' name='description' onChange={this.handleChange} />\r\n                        </label>\r\n                \r\n\r\n                        <label> Website\r\n                             {/* <input  value={this.state[res]}  name={res} onChange={this.handleChange}required/> */}\r\n                             <input  value={this.state.url}  type='url' placeholder=\"http://hello.ru\" name=\"url\" onChange={this.handleChange} />\r\n                        </label>\r\n                   \r\n\r\n                    <label>\r\n                        Address\r\n                        <input \r\n                            id=\"autocomplete\"\r\n                            placeholder=\"Введите адрес\" \r\n                            name='address' \r\n                            onChange={this.handleAddressChange}\r\n                            value={this.state.address}/>\r\n                    </label>\r\n                        \r\n\r\n                    <label>Часы Работы</label>\r\n                    <div className=\"workHours\">\r\n                        {weekDays.map((res, i) => {\r\n\r\n                            return <label key={i}> \r\n                            {res}\r\n                            <input key={i} \r\n                                    type=\"text\" \r\n                                    name={`${res}Open`} \r\n                                    placeholder='Open'\r\n                                    onChange={this.handleScheduleChange} />\r\n                            <input key={i + 1} \r\n                                    type=\"text\" \r\n                                    name={`${res}Close`} \r\n                                    placeholder='Close'\r\n                                    onChange={this.handleScheduleChange} />\r\n                            </label>\r\n                        })}    \r\n                    </div>\r\n                    <button type=\"submit\">Add</button>\r\n                </fieldset>\r\n            </FormStyles>\r\n            </React.Fragment>\r\n        )\r\n    }\r\n}\r\n\r\n\r\n\r\nexport default AddForm\n\n\n// WEBPACK FOOTER //\n// components/AddForm.js","import styled from 'styled-components';\r\n\r\nconst FormStyles = styled.form`\r\n    box-shadow: 0 0 5px 3px rgba(0, 0, 0, 0.05);\r\n    background: rgba(0, 0, 0, 0.02);\r\n    border: 5px solid white;\r\n    padding: 20px;\r\n    font-size: 1.5rem;\r\n    line-height: 1.5;\r\n    font-weight: 500;\r\n  .workHours {\r\n    label {\r\n      display: grid;\r\n      grid-template-columns: repeat(auto-fit, minmax(100px, 1fr));\r\n      grid-gap: 10px;\r\n      align-items: center;\r\n    }\r\n  }\r\n  label {\r\n    display: block;\r\n    margin-bottom: 1rem;\r\n  }\r\n  input,\r\n  textarea,\r\n  select {\r\n    width: 100%;\r\n    padding: 0.5rem;\r\n    font-size: 1.5rem;\r\n    border: 1px solid black;\r\n    &:focus {\r\n      outline: 0;\r\n      border-color: ${props => props.theme.red};\r\n    }\r\n  }\r\n  button,\r\n  input[type='submit'] {\r\n    width: auto;\r\n    background: red;\r\n    color: white;\r\n    border: 0;\r\n    font-size: 2rem;\r\n    font-weight: 600;\r\n    padding: 0.5rem 1.2rem;\r\n  }\r\n  button,\r\n  input[type='submit']:hover {\r\n      cursor: pointer;\r\n  }\r\n  fieldset {\r\n    border: 0;\r\n    padding: 0;\r\n    &[disabled] {\r\n      opacity: 0.5;\r\n    }\r\n    &::before {\r\n      height: 10px;\r\n      content: '';\r\n      display: block;\r\n      background-image: linear-gradient(to right, #ff3019 0%, #e2b04a 50%, #ff3019 100%);\r\n    }\r\n  }\r\n  .form__error {\r\n      color: ${props => props.theme.red}\r\n  }\r\n`\r\n\r\nexport default FormStyles\n\n\n// WEBPACK FOOTER //\n// components/styles/FormStyles.js","import styled from 'styled-components'\r\nimport AddForm from '../components/AddForm'\r\n\r\n\r\n\r\nclass Add extends React.Component {\r\n\r\n    render() {\r\n        return (\r\n            <React.Fragment>\r\n            <h1>Add Item</h1>\r\n            <Container>\r\n                <AddForm />\r\n            </Container>\r\n            </React.Fragment>\r\n        )\r\n    }\r\n}\r\n\r\nconst Container = styled.div`\r\n  max-width: 500px;\r\n  margin: 0 auto;\r\n`;\r\n\r\n\r\nexport default Add\n\n\n// WEBPACK FOOTER //\n// pages/add.js","module.exports = require(\"next/head\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"next/head\"\n// module id = next/head\n// module chunks = 0 3","module.exports = require(\"react\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"react\"\n// module id = react\n// module chunks = 0 1 3","module.exports = require(\"styled-components\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"styled-components\"\n// module id = styled-components\n// module chunks = 0 1 3"],"mappings":";;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACnEA;AACA;AAIA;AACA;AAEA;;;;;;;;;;;;;;;;;;;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAVA;;;;;AAaA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AAAA;AAEA;;;;;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AAAA;AAEA;;;;;AAEA;AACA;AACA;AACA;AAEA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AAAA;AACA;;;;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AATA;AAYA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAEA;;;;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;;;;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AACA;;;;;AAEA;AACA;AACA;AACA;;;;;;AAIA;AAAA;AACA;AAEA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;AAAA;AAAA;AAAA;AAAA;AAGA;AACA;AACA;AACA;AACA;AALA;AAAA;AAAA;AAAA;AAAA;AASA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AACA;AAJA;AAAA;AAAA;AAAA;AAAA;AAKA;AACA;AACA;AACA;AACA;AAJA;AAAA;AAAA;AAAA;AAAA;AAMA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAKA;;;;AAvNA;AACA;AA2NA;;;;;;;;ACpOA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AA6BA;AAAA;AA+BA;AAAA;AAIA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AClEA;AACA;AACA;AAGA;;;;;;;;;;;;;AAEA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAIA;;;;AAXA;AACA;AAaA;AAAA;AAAA;AAAA;AAMA;;;;;;;;;;;;;;;ACzBA;;;;;;;ACAA;;;;;;;ACAA;;;;A","sourceRoot":""}